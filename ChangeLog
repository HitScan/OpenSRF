commit 9a3ef18779c1421f533347ad2e9326ae8d1d7cdc
Author: Galen Charlton <gmc@equinoxinitiative.org>
Date:   Fri Jun 7 17:03:45 2019 -0400

    update versions for 3.1.1
    
    Signed-off-by: Galen Charlton <gmc@equinoxinitiative.org>

6	6	README
2	2	src/perl/lib/OpenSRF.pm
1	1	src/python/setup.py
1	1	version.m4

commit 76d8a71df79a227b6e18b94b0fa571b47c7f940e
Author: Galen Charlton <gmc@equinoxinitiative.org>
Date:   Fri Jun 7 17:01:43 2019 -0400

    update release notes for OpenSRF 3.1.1
    
    Signed-off-by: Galen Charlton <gmc@equinoxinitiative.org>

43	0	doc/RELEASE_NOTES.txt

commit 28b5d6d8ac25bc350ac3ea64466e7a422c6fa28e
Author: John Merriam <jmerriam@biblio.org>
Date:   Wed Apr 10 11:06:14 2019 -0400

    LP#1824184: Change potentially slow log statements to subroutines
    
    The OpenSRF code was searched for potentially slow logging statements at
    log level info or above. We then changed those logging statements to be
    delayed execution subroutines. This is in reaction to LP1823338 where a
    slow debug logging statement was slowing down SIP checkins even though
    debug logging was not turned on.
    
    Here is some pseudocode that shows what is being done here:
    
    $log->debug("Some text " . $some->slow_method);
    
    would be changed to:
    
    $log->debug(sub{return "Some text " . $some->slow_method });
    
    With this change, an unnamed sub is passed to the OpenSRF logger module
    and it will not be executed unless the global logging level is set to
    debug or higher (the slow_method will not be called unless it is needed
    for that logging level).
    
    ********
    If/when this is committed, please use delayed execution subroutines for
    any logging statements that could be slow in the future. It is recommend
    that any logging statements that do not consist entirely of quoted text
    and/or already available scalar variables use delayed execution
    subroutines.
    ********
    
    Testing notes
    -------------
    [1] This patch reduced the duration of open-ils.storage.actor.user.total_owed
        calls on a test system from an average of 0.13 seconds to an overage
        of 0.009 seconds.
    [2] It didn't materially affect the duration of calls to
        open-ils.actor.user.opac.vital_stats.
    [3] This make sense: open-ils.storage has far more generated methods
        than open-ils.actor.
    [4] There are enough instances in Evergreen of using method_lookup to find
        routines in open-ils.storage that the speed improvement may well be
        perceptible to humans, not just SIP sorters.
    
    Signed-off-by: John Merriam <jmerriam@biblio.org>
    Signed-off-by: Galen Charlton <gmc@equinoxinitiative.org>

7	7	src/perl/lib/OpenSRF/AppSession.pm
9	9	src/perl/lib/OpenSRF/Application.pm
4	4	src/perl/lib/OpenSRF/DomainObject/oilsMessage.pm
2	2	src/perl/lib/OpenSRF/EX.pm
3	3	src/perl/lib/OpenSRF/MultiSession.pm
9	9	src/perl/lib/OpenSRF/Server.pm
1	1	src/perl/lib/OpenSRF/Transport.pm
1	1	src/perl/lib/OpenSRF/Transport/SlimJabber/Client.pm

commit 840fadcf0eee864dbedde9750346d4835af13f6b
Author: Galen Charlton <gmc@equinoxinitiative.org>
Date:   Fri Jun 7 11:30:42 2019 -0400

    LP#1824181: add test cases
    
    To test
    -------
    [1] Verify that 'make check' (or prove src/perl/t/09-Utils-Logger.t)
        passes.
    
    Signed-off-by: Galen Charlton <gmc@equinoxinitiative.org>

10	1	src/perl/t/09-Utils-Logger.t

commit 37dcdcab5a97e06259a859a1721f243978f35a66
Author: John Merriam <jmerriam@biblio.org>
Date:   Wed Apr 10 09:51:54 2019 -0400

    LP#1824181: Allow 1st arg to logger to be string or subroutine
    
    This simple change allows the $msg passed to _log_message in Logger.pm
    to be either a regular string or a delayed exec subroutine. This is in
    reaction to LP1823338 where a slow debug logging statement was slowing
    down SIP checkins even though debug logging was not turned on.
    
    With this change you can take this:
    
    $log->debug("Available methods\n\t".join("\n\t", keys %{ $_METHODS[$proto] }), INTERNAL);
    
    and change it to this:
    
    $log->debug(sub{return "Available methods\n\t".join("\n\t", keys %{ $_METHODS[$proto] }) }, INTERNAL);
    
    and then that slow debug logging line will not be executed unless
    debug logging is turned on.
    
    Signed-off-by: John Merriam <jmerriam@biblio.org>
    Signed-off-by: Galen Charlton <gmc@equinoxinitiative.org>

3	0	src/perl/lib/OpenSRF/Utils/Logger.pm

commit 1eff7ee443beda4037a3edb8e2cd6caa37ee6d85
Author: Jason Stephenson <jason@sigio.com>
Date:   Fri Dec 14 15:35:49 2018 -0500

    Lp 1808580: Remove Installation Support for Ubuntu 14.04
    
    Remove references to Ubuntu 14.04 from the README and the
    Makefile.install prerequisites.
    
    Signed-off-by: Jason Stephenson <jason@sigio.com>
    Signed-off-by: Ben Shum <ben@evergreener.net>

0	28	README
2	14	src/extras/Makefile.install
